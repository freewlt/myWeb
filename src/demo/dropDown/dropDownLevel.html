<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery简洁下拉菜单导航</title>
    <link href="css/menu.css" rel="stylesheet" media="screen" type="text/css"/>
</head>

<body>
<div id="all">
    <h1>jQuery简洁下拉菜单导航</h1>
    <ul class="jsddm">
        <li><a href="#">JavaScript</a>
            <ul>
                <li><a href="#">Drop Down Menu</a></li>
                <li><a href="#">jQuery Plugin</a></li>
                <li><a href="#">Ajax Navigation</a></li>
            </ul>
        </li>
        <li><a href="#">Effect</a>
            <ul>
                <li><a href="#">Slide Effect</a></li>
                <li><a href="#">Fade Effect</a></li>
                <li><a href="#">Opacity Mode</a></li>
                <li><a href="#">Drop Shadow</a></li>
                <li><a href="#">Semitransparent</a></li>
            </ul>
        </li>
        <li><a href="#">Navigation</a>
            <ul>
                <li><a href="#">Slide Effect</a></li>
                <li><a href="#">Fade Effect</a></li>
                <li><a href="#">Opacity Mode</a></li>
                <li><a href="#">Drop Shadow</a></li>
            </ul>
        </li>
        <li><a href="#">HTML/CSS</a>
            <ul>
                <li><a href="#">Slide Effect</a></li>
                <li><a href="#">Opacity Mode</a></li>
                <li><a href="#">Drop Shadow</a></li>
            </ul>
        </li>
        <li><a target="_blank">Help</a></li>
    </ul>
</div>

<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
    var timeout = 500;
    var closetimer = 0;
    var ddmenuitem = 0;

    function jsddm_open() {
        jsddm_canceltimer();
        jsddm_close();
        ddmenuitem = $(this).find('ul').eq(0).css('visibility', 'visible');
    }

    function jsddm_close() {
        if (ddmenuitem) ddmenuitem.css('visibility', 'hidden');
    }

    function jsddm_timer() {
        closetimer = window.setTimeout(jsddm_close, timeout);
    }

    function jsddm_canceltimer() {
        if (closetimer) {
            window.clearTimeout(closetimer);
            closetimer = null;
        }
    }

    $(document).ready(function () {
        $('.jsddm > li').bind('mouseover', jsddm_open);
        $('.jsddm > li').bind('mouseout', jsddm_timer);
    });

    document.onclick = jsddm_close;
</script>
</body>
</html>